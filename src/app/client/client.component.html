<!--update modal -->

<div class="dialog" [hidden]="updatePage">
  <div class="modal-dialog modal-sm login-cls pt10">
      <form [formGroup]="updateUser">
          <div class="modal-content">
              <div class="panel panel-default" style="margin-bottom: 0px;">

                  <div class="panel-body" style="min-height: 400px;">
                      <button type="button" class="close" data-dismiss="modal" (click)="hideUpdateModal()">&times;</button>

                      <p style="border-bottom: 1px solid #d3d3d3; padding-bottom: 5px;"> <b>Update User Info</b> </p>
                      <div class="clearfix mtx20"></div>
                      <input type="hidden" #userKey formControlName="userKey" />
                      <div class="row ">
                          <div class="col-md-5">
                              <label class="form-control-static txtlabel">First Nmae</label>
                          </div>
                         
                          <div class="col-md-7">

                              <input class="form-control rdc2" #UserFName formControlName="UserFName" />
                          </div>
                        
                      </div>
                      <!-- <div class="row ">
                          <div class="col-md-5">
                              <label class="form-control-static txtlabel">Middle Name</label>
                          </div>
                          <div class="col-md-7">

                              <input class="form-control rdc2" #UserMName formControlName="UserMName" />
                          </div>
                        
                      </div> -->
                      <div class="row ">
                          <div class="col-md-5">
                              <label class="form-control-static txtlabel">Last Name</label>
                          </div>
                          <div class="col-md-7">

                              <input class="form-control rdc2" #UserLName formControlName="UserLName" />
                          </div>
                        
                      </div>
                      <div class="row ">
                          <div class="col-md-5">
                              <label class="form-control-static txtlabel">Email</label>
                          </div>
                          <div class="col-md-7">

                              <input class="form-control rdc2" #email formControlName="email" />
                          </div>
                        
                      </div>
                      <div class="row ">
                          <div class="col-md-5">
                              <label class="form-control-static txtlabel">Gender</label>
                          </div>
                          <div class="col-md-7">

                              <input class="form-control rdc2" #gender formControlName="gender" />
                          </div>
                        
                      </div>
                      <div class="row ">
                          <div class="col-md-5">
                              <label class="form-control-static txtlabel">Mobile</label>
                          </div>
                          <div class="col-md-7">

                              <input class="form-control rdc2" #mobile formControlName="mobile" />
                          </div>
                        
                      </div>

                  </div>
              </div>
              <div style="background-color: #34495e" (click)="updateUserInfo(updateUser)" ><button  id="testbutton" class="btn btn-theme btn-lg btn-block" style="border-radius:0px;background-color: #34495e">Save </button> </div>
          </div>
      </form>
  </div>
  
</div>
<div class="overlay" [hidden]="modal_opened"></div>

<!--update modal -->

<div style="width: 100%;
float: left;"><b class="theme-color pull-left"> Client </b></div>
<div class="">
  
    <div class="col-md-4">

            <form [formGroup]="searchByName">
              <!-- <fieldset ng-disabled="disabled"> -->
             
             
                  


                  <div class="clearfix"></div>
                  <div class="row">
                    <div class="col-md-6">
                      <label class="form-control-static txtlabel">First Name</label>
                      <input class="form-control rdc2" name="Email" #searchFname formControlName="searchFname" type="text" />
                      <!--[readonly]="true" -->
                      <!--<div class="alert alert-danger" *ngIf="!model.controls.partnerName.valid  && model.controls.partnerName.dirty">
                    <p>Please enter a valid name.</p>
                </div>-->
                    </div>
                    <div class="col-md-6">
                      <label class="form-control-static txtlabel">Last Name</label>
                      <input class="form-control rdc2" name="Email" #searchLname formControlName="searchLname" type="text" />
                      <!--<div class="alert alert-danger" *ngIf="!model.controls.partnerName.valid  && model.controls.partnerName.dirty">
                    <p>Please enter a valid name.</p>
                </div>-->
                    </div>

                   
                   
                  </div>

              <div class="row mtx20">

                <div class="col-md-12">
                    <button type="button" class="btn btn-theme  btn-lg btn-block" (click)="searchName(searchFname.value,searchLname.value);">Search</button>
                </div>
              </div>
            </form>
    </div>
              
                <div class="col-md-4">
              <form [formGroup]="searchByEmail">
                <!-- <fieldset ng-disabled="disabled"> -->

                   
                    <div class="row">
                                    
                      
                      <div class="col-md-12">
                        <label class="form-control-static txtlabel">Email </label>
                        <input class="form-control rdc2" #email formControlName="email" />
                        <!--<div class="alert alert-danger" *ngIf="!model.controls.partnerEmail.valid  && model.controls.partnerEmail.dirty">
                    <p>Please enter a valid email.</p>
                </div>-->
                      </div>
                    </div>
 
  
                <div class="row mtx20">
  
                  <div class="col-md-12">
                    
  
                    <button type="button" class="btn btn-theme  btn-lg btn-block" (click)="searchEmail(email.value);">Search</button>
                  </div>
                </div>
          
              </form>
                </div>
          
          
 
<!--from date to date-->


<div class="col-md-4">
    <div class="row " >
        <form  [formGroup]="searchpartner">
           
                <div role="tabpanel" class="active" id="home" style="padding: 0px 9px;">

                      
                            <div class="clearfix"></div>
                            <div class="row">
                                <div class="col-md-6">
                                    <label class="form-control-static txtlabel">From Date</label>
                                    <input class="form-control rdc2" name="fromdate" #partnerfDate formControlName="partnerfDate" type="date"  />
                                   
                                </div>
                                <div class="col-md-6">
                                    <label class="form-control-static txtlabel">To Date</label>
                                    <input class="form-control rdc2" name="todate" #partnertDate formControlName="partnertDate" type="date" />
                                    
                                </div>
                          
                            </div>
                           
                   
                    <div class="row mtx20">

                        <div class="col-md-12">
                           

                            <button type="button" class="btn btn-theme  btn-lg btn-block"  (click)="searchByDate(partnerfDate.value,partnertDate.value)">Search</button>
                           
                          </div>
                    </div>
                </div>
            
        </form>
    </div>
    </div>
                
</div>

<!--Data table -->
<div class="clearfix"></div>
<div class="row" >
        
  <div class="col-md-12" [hidden]="userTable">
        <div class="row" *ngIf="customerKey?.length == 0">
                <i style="display:block;margin: 0 auto;" class="fa fa-spinner fa-spin fa-3x fa-fw"></i>
        </div>   
    <div style="position:absolute;top: 5px;right: 5px; font-weight: 800;">
        <button type="button" class="close" data-dismiss="modal" (click)="hideTable()"><i class="fa fa-times-circle"></i></button></div>
    
        <div class="clearfix"></div>
        <div style="position:relative">
      
      
      <table  datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger"  class="row-border hover" id="DataTables" >
      <thead>
        <tr>
            <!-- <th>Created At</th> -->
          <th>FirstName</th>
         
          <th>LastName</th>
          <th>Email</th>
          <th>Gender</th>
          <th>Mobile</th>
          <th>Address</th>
          <th>Booking</th>
          <th>Action</th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let user of customerKey">
          
          <!-- <td>{{users[user].createdAt}}</td> -->
          <!-- <td>{{users[user].MiddleName}}</td> -->
          <td>{{users[user].partnerFirstName}}</td>
          <td>{{users[user].partnerLastName}}</td>
          <td>{{users[user].partnerEmail}}</td>
          <td>{{users[user].partnerGender}}</td>
          <td>{{users[user].partnerPhone}}</td>
         
          <td></td>
          <td>
            <button class="btn btn-default" (click)="findbooking(user,users[user].uid)">View Booking</button>
          </td>
          <td><button class="btn btn-default" (click)="showUpdateModal(user,users[user].partnerFirstName,users[user].partnerLastName,users[user].partnerEmail,users[user].partnerGender,users[user].partnerPhone)">update</button></td>
          <td><button class="btn btn-danger">Delete</button></td> 
        </tr>
      </tbody>
    </table>
</div>
  </div>
</div>

<!--Data table -->
<!-- Booking Data Table -->
<div class="row">
    <div class="col-md-12" [hidden]="bookingTable">
  
      <div style="position:relative">
        <!-- <div style="position:absolute;top: 5px;right: 5px; font-weight: 800;">
        <button type="button" class="close" data-dismiss="modal" (click)="hideTable()"><i class="fa fa-times-circle"></i></button></div> -->
        <table class="table table-hover">
          <thead>
            <tr>
              <!-- <th>Created At</th> -->
              <th>Name</th>
  
              <th>Key</th>
              <th>Date</th>
              <th>Time</th>
              <th>Note</th>
              <th>Service</th>
              <th>Stage</th>
              <th>Total Amount</th>
              <th>Action</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let booking of booking_result">
  
              <td>{{bookings[booking].customerName}}</td>
              <td>{{booking}}</td>
              <td>{{bookings[booking].bookingSchedule.date}}</td>
              <td>{{bookings[booking].bookingSchedule.time}}</td>
              <td>{{bookings[booking].notes}}</td>
              <td>{{bookings[booking].services[0].serviceName}}</td>
              <td>{{bookings[booking].stage}}</td>
              <td>{{bookings[booking].totalAmount}}</td>
              <td></td>
              <td>
                <button class="btn btn-default" (click)="showUpdateModal(user,users[user].partnerFirstName,users[user].partnerLastName,users[user].partnerEmail,users[user].partnerGender,users[user].partnerPhone)">update</button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
  <!-- <div class="row" *ngIf="items?.length == 0">
    <i style="display:block;margin: 0 auto;" class="fa fa-spinner fa-spin fa-3x fa-fw"></i>
  </div> -->


